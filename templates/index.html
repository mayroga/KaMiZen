<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>KaMiZen – Acceso</title>
<link rel="stylesheet" href="/static/style.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
  body { margin:0; padding:0; font-family:"Segoe UI", sans-serif; background:#f5f5f5; text-align:center; }
  #loginBox { max-width:400px; margin:50px auto; padding:20px; background:white; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.2); }
  input, button { width:90%; padding:10px; margin:5px 0; font-size:1em; }
  #gameArea { display:none; }
  #map { height:400px; margin:20px 0; border-radius:10px; }
  #avatar { position:absolute; width:50px; height:50px; background:red; border-radius:50%; pointer-events:none; transition: all 0.3s ease; }
  #levelButtons button { margin:5px; padding:10px 20px; font-size:1em; }
</style>
</head>
<body>

<div id="loginBox">
  <h2>KaMiZen – Acceso</h2>

  <!-- Login Admin / Usuario -->
  <form id="loginForm">
    <input type="text" id="username" placeholder="Usuario / Username" required>
    <input type="password" id="password" placeholder="Contraseña / Password" required>
    <button type="button" onclick="login()">Entrar</button>
  </form>

  <hr>

  <!-- Selección de idioma -->
  <div id="language">
    <button onclick="setLang('es')">Español</button>
    <button onclick="setLang('en')">English</button>
  </div>

  <hr>

  <!-- Precios visibles -->
  <div id="prices">
    <h3>Niveles y Precios</h3>
    <ul>
      {% for key, lvl in levels.items() %}
        <li>{{ lvl.name }} – ${{ lvl.price }}</li>
      {% endfor %}
    </ul>
  </div>
</div>

<!-- Contenedor de juego / mapa -->
<div id="gameArea">
  <div id="map"></div>
  <div id="avatar"></div>

  <div id="levelButtons">
    {% for key, lvl in levels.items() %}
      <button onclick="startLevel('{{ key }}')">{{ lvl.name }} – ${{ lvl.price }}</button>
    {% endfor %}
  </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="/static/app.js"></script>
<script>
let lang = "es";
function setLang(l){
    lang = l;
}
</script>
</body>
</html>
